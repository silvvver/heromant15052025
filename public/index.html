<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–û–Ω–ª–∞–π–Ω-—Ö–∏—Ä–æ–º–∞–Ω—Ç–∏—è</title>
</head>
<body>
  <h2>üîÆ –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ –ª–∞–¥–æ–Ω–∏</h2>
  <form id="form">
    <input type="file" name="handImage" accept="image/*" required><br><br>
    <label><input type="radio" name="style" value="ted" checked> –¢—ç–¥—É—Å (—é–º–æ—Ä)</label>
    <label><input type="radio" name="style" value="professor"> –ü—Ä–æ—Ñ–µ—Å—Å–æ—Ä</label>
    <label><input type="radio" name="style" value="buzova"> –ë—É–∑–æ–≤–∞</label>
    <br><br>
    <button type="submit">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
  </form>
  <pre id="result" style="white-space:pre-wrap;font-family:inherit;"></pre>
  
  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –≤–Ω–µ—à–Ω–∏–π –∫–æ–Ω—Ñ–∏–≥ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π API_URL -->
  <script src="config.js"></script>
  <script>
    const form = document.getElementById('form');
    const result = document.getElementById('result');
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      result.textContent = '‚è≥ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º‚Ä¶';
      const fd = new FormData(form);
      try {
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º API_URL –∏–∑ config.js!
        const r = await fetch(`${API_URL}/analyze`, { method:'POST', body: fd });
        const json = await r.json();
        result.textContent = json.result || '‚ö†Ô∏è –ü—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç';
      } catch (err) {
        result.textContent = '‚ùå –û—à–∏–±–∫–∞: ' + err.message;
      }
    });
  </script>
</body>
</html>
